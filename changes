
----------
kfleming    Date: Sun May 15 19:17:39 EDT 2011  CSN: CSN-multifpga-3
                  Sun May 15 23:17:39 UTC 2011


Directory config/pm
 leap/                     Locally Added               0 

Directory config/pm/leap
 demos/                    Locally Added               0 

Directory config/pm/leap/demos
 traffic_light/            Locally Added               0 

Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Added               0 

Directory modules
 leap/                     Locally Added               0 

Directory modules/leap
 build-support/            Locally Added               0 

Directory modules/leap/build-support
 stages/                   Locally Added               0 
 project/                  Locally Added               0 

Directory modules/leap/build-support/project
 project-multifpga.awb     Locally Added               0 

Directory modules/leap/build-support
 pipelines/                Locally Added               0 

Directory modules/leap/build-support/pipelines
 multifpga/                Locally Added               0 

Directory modules/multifpga
 README                    Locally Removed             2 


Fleshing out directory structure and adding some apm

----------
kfleming    Date: Mon May 16 09:24:36 EDT 2011  CSN: CSN-multifpga-4
                  Mon May 16 13:24:36 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified            3 

Directory config/pm/multifpga
 fpga_submodels/           Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 acp0.apm                  Locally Added               0 
 acp1.apm                  Locally Added               0 

Directory modules
 leap-platforms/           Locally Added               0 

Directory modules/leap-platforms
 fpga-environments/        Locally Added               0 

Directory modules/leap-platforms/fpga-environments
 acp/                      Locally Added               0 

Directory modules/leap-platforms/fpga-environments/acp
 acp_fpga_env.awb          Locally Added               0 
 acp-dual.env              Locally Added               0 

Added more structure to the multifpga build

----------
kfleming    Date: Tue May 17 14:01:54 EDT 2011  CSN: CSN-multifpga-5
                  Tue May 17 18:01:54 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified            4 

Directory modules/leap/build-support
 build-pipelines/          Locally Added               0 

Directory modules/leap/build-support/build-pipelines
 pipelines/                Locally Added               0 

Directory modules/leap/build-support/build-pipelines/pipelines
 multifpga/                Locally Added               0 

Directory modules/leap/build-support/build-pipelines/pipelines/multifpga
 multifpga-build-pipeline.awb Locally Added               0 
 multiFPGAPipeline.py      Locally Added               0 

Directory modules/leap/build-support/project
 project-multifpga.awb     Locally Modified            4 

Directory modules/leap-platforms/fpga-environments/acp
 acp-dual.env              Locally Modified            4 



Added an initial pipeline stage for parsing the fpga file

----------
kfleming    Date: Thu Jun 30 13:13:16 EDT 2011  CSN: CSN-multifpga-27
                  Thu Jun 30 17:13:16 UTC 2011


Directory modules/leap-platforms/fpga-environments/acp
 acp_fpga_env_airblue.awb  Locally Added               0 
 acp-dual-airblue.env      Locally Added               0 


Added ACP environment for airblue

----------
keflemin    Date: Thu Jul  7 09:14:35 EDT 2011  CSN: CSN-multifpga-29
                  Thu Jul  7 13:14:35 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_16_multifpga.apm Locally Added               0 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga.apm Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_16_connected_application.apm Locally Added               0 
 alpha_inorder_dm_wt_mesh_acp_64_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_acp.apm Locally Modified           28 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           28 

Directory modules/multifpga/alpha_inorder
 acp_mapping_time_func_cache.awb Locally Added               0 
 acp-mapping-time-func-cache.map Locally Added               0 


Added mapping files and apm for various alpha builds.

----------
keflemin    Date: Fri Jul  8 19:44:36 EDT 2011  CSN: CSN-multifpga-30
                  Fri Jul  8 23:44:36 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_64_multifpga.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_ring_acp_16_connected_application.apm Locally Added               0 
 alpha_inorder_dm_wt_ring_acp_64_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_16_multifpga.apm Locally Added               0 


Added multifpga models for rings.

----------
mcadler     Date: Thu Aug  4 17:42:27 EDT 2011  CSN: CSN-multifpga-44
                  Thu Aug  4 21:42:27 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages
 iface/                    Locally Removed            43 

Directory modules/leap/build-support/build-pipelines/stages/iface
 iface.awb                 Locally Removed            43 
 README                    Locally Removed            43 
 iface.py                  Locally Removed            43 

Remove iface code from multifpga.  It had no changes for multiple FPGAs and
was out of date.

----------
mcadler     Date: Fri Aug  5 16:16:50 EDT 2011  CSN: CSN-multifpga-45
                  Fri Aug  5 20:16:50 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/wrapper_gen
 multifpga_wrapper_gen.py  Locally Modified           44 

Patches from main leap repository version.

----------
kfleming    Date: Mon Aug 15 18:21:28 EDT 2011  CSN: CSN-multifpga-47
                  Mon Aug 15 22:21:28 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/null_software
 software_null.py          Locally Modified           46 


need fix for syntax.h.

----------
kfleming    Date: Fri Aug 19 14:48:53 EDT 2011  CSN: CSN-multifpga-48
                  Fri Aug 19 18:48:53 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_exe.apm    Locally Modified           47 
 test_multifpga_loop.apm   Locally Added               0 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           47 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           47 
 flowcontrol-ingress.bsv   Locally Modified           47 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service.bsv Locally Modified           47 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device-bdpi.c Locally Modified           47 
 unix-communication-device-bdpi.h Locally Modified           47 
 unix-communication-device.bsv Locally Modified           47 

Directory modules/multifpga
 longChain/                Locally Added               0 

Directory modules/multifpga/longChain
 test-b.bsv                Locally Added               0 
 test-c.bsv                Locally Added               0 
 test_b.awb                Locally Added               0 
 test_c.awb                Locally Added               0 
 test-d.bsv                Locally Added               0 
 top.awb                   Locally Added               0 
 test_top.bsv              Locally Added               0 
 test_d.awb                Locally Added               0 


Buckets of code to support multifpga compilation.  

----------
kfleming    Date: Mon Aug 22 14:41:04 EDT 2011  CSN: CSN-multifpga-49
                  Mon Aug 22 18:41:04 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_16_acp_sram.apm Locally Added               0 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           48 
 flowcontrol-ingress.bsv   Locally Modified           48 


Reduced 2-cycle behavior of flow control updates.  This nets about 5% performance in HAsim.  

----------
mpellaue    Date: Thu Aug 25 18:16:02 EDT 2011  CSN: CSN-multifpga-50
                  Thu Aug 25 22:16:02 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified           49 
 test_multifpga.apm        Locally Modified           49 
 test_multifpga_exe.apm    Locally Modified           49 
 test_multifpga_rrr_exe.apm Locally Modified           49 
 test_multifpga_loop.apm   Locally Modified           49 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           49 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           49 

Directory config/pm/leap/submodels/pipelines
 build-pipeline-xilinx-multifpga.apm Locally Modified           49 

Directory config/pm/multifpga/fpga_submodels
 acp0-sram.apm             Locally Modified           49 
 acp0.apm                  Locally Modified           49 
 acp1.apm                  Locally Modified           49 
 fpga0.apm                 Locally Modified           49 
 fpga1.apm                 Locally Modified           49 


* Updated stale .apm files.
* Removed reference to no-longer existing xst-nobasicio stage.

----------
kfleming    Date: Thu Sep  1 08:45:25 EDT 2011  CSN: CSN-multifpga-52
                  Thu Sep  1 12:45:25 UTC 2011


Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           51 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           51 

Directory config/pm/multifpga/fpga_submodels
 fpga0-dist-cache.apm      Locally Modified           51 
 fpga1-dist-cache.apm      Locally Modified           51 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           51 


Patched a few apm and broke some critical paths in flow control.

----------
mcadler     Date: Fri Sep  9 07:27:25 EDT 2011  CSN: CSN-multifpga-55
                  Fri Sep  9 11:27:25 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           54 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           54 

Build all sub-models under the parent in the multi_fpga directory.

----------
mcadler     Date: Fri Sep  9 10:41:24 EDT 2011  CSN: CSN-multifpga-56
                  Fri Sep  9 14:41:24 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/null_software
 software_null.py          Locally Modified           55 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           55 

Directory modules/multifpga/synthTest
 test-c.dic                Locally Modified           55 
 test-d.dic                Locally Modified           55 

- Pass OPT, DEBUG, TRACE and EVENTS command line options to sub-model builds.
- Check status of sub-model build
- Fix a couple of syntax warnings.

----------
mcadler     Date: Mon Sep 12 17:08:52 EDT 2011  CSN: CSN-multifpga-58
                  Mon Sep 12 21:08:52 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_sram.apm Locally Removed            57 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_dual_sram.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_16_connected_application.apm Locally Modified           57 
 alpha_inorder_dm_wt_mesh_acp_64_connected_application.apm Locally Modified           57 

Directory config/pm/multifpga/fpga_submodels
 acp0.apm                  Locally Modified           57 
 acp0-sram.apm             Locally Modified           57 
 acp1.apm                  Locally Modified           57 
 acp1-sram.apm             Locally Modified           57 
 acp1-passthrough.apm      Locally Modified           57 

- ACP configuration:
  - Update soft connections CON_CWIDTH to 128 bits
  - Use -cm balanced during mapping
  - Make the default scratchpad L1 cache 4K entries
  - Set default model clock frequency to 50MHz for SRAM models.

- Alpha mesh models:
  - Set default memory controller location to the center of the mesh.
  - Replace single SRAM 64-CPU configuration with a dual SRAM configuration.

----------
mcadler     Date: Tue Sep 13 14:09:23 EDT 2011  CSN: CSN-multifpga-59
                  Tue Sep 13 18:09:23 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_16_multifpga.apm Locally Removed            58 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_30_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_64_multifpga.apm Locally Removed            58 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_sram.apm Locally Removed            58 
 alpha_inorder_dm_wt_mesh_acp_30_multifpga_dual_sram.apm Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           58 

- The multi-FPGA rule for building the bitfiles in the 2nd pass now can take
  the command to execute from a variable specified on the SCons command
  line:  MULTIFPGA_BITFILE_COMPILE_CMD.  If set, that command will be executed
  in each bitfile build subdirectory.  The command could submit a batch job,
  compile for multiple cost tables, etc.  If not specified, the old behavior
  of invoking SCons remains.

- Add a 30-way mesh model (32 would be an 8x4 rectangle, 30 is more square at
  6x5).

- Remove all mesh models lacking SRAM on each FPGA.

----------
mcadler     Date: Thu Sep 15 16:41:59 EDT 2011  CSN: CSN-multifpga-60
                  Thu Sep 15 20:41:59 UTC 2011


Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_30_connected_application.apm Locally Removed            59 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_30_multifpga_dual_sram.apm Locally Removed            59 

Remove useless model.  The mesh has to be square, so only 25 nodes are supported.
Model frequency was essentially the same as the 64 node model, so there is
nothing gained by building for 25.

----------
mcadler     Date: Wed Oct  5 17:43:33 EDT 2011  CSN: CSN-multifpga-61
                  Wed Oct  5 21:43:33 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSVmulti.py               Locally Modified           60 

Use SCons "Copy" factory instead of "cp" because SCons stores the signature of
the program in the build dependence.  If "cp" is a different binary it looks like
rebuilding is needed.

Removed mkdir from the rules instead of using "Mkdir" factory, since the
directories appear to be present already and the factory version fails if
the target exists.

----------
kfleming    Date: Tue Oct 11 16:45:24 EDT 2011  CSN: CSN-multifpga-62
                  Tue Oct 11 20:45:24 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_exe.apm Locally Modified           61 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           61 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           61 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           61 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           61 


Added support for automatically instrumenting inter-FPGA links with statistics.

----------
kfleming    Date: Wed Oct 12 12:20:24 EDT 2011  CSN: CSN-multifpga-63
                  Wed Oct 12 16:20:24 UTC 2011


Directory config/pm
 h264/                     Locally Added               0 

Directory config/pm/h264
 softphy_SOVA_acp.apm      Locally Added               0 
 h264_multifpga_decoder_split_synth.apm Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/h264/submodels
 h264_multifpga.apm        Locally Added               0 

Directory config/pm/h264
 h264_multifpga_decoder_split_synth_exe.apm Locally Added               0 

Directory config/pm
 airblue/                  Locally Added               0 

Directory config/pm/airblue
 library_tests/            Locally Added               0 

Directory config/pm/airblue/library_tests
 softphy_SOVA_acp.apm      Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/airblue/library_tests/submodels
 viterbi_softphy_hw_only_submodel.apm Locally Added               0 
 viterbi_softphy_submodel.apm Locally Added               0 

Directory modules/multifpga
 h264/                     Locally Added               0 

Directory modules/multifpga/h264
 acp_mapping.awb           Locally Added               0 
 acp-mapping.map           Locally Added               0 
 sim_mapping.awb           Locally Added               0 
 sim-mapping.map           Locally Added               0 

Directory modules/multifpga
 airblue/                  Locally Added               0 

Directory modules/multifpga/airblue
 acp_mapping.awb           Locally Added               0 
 acp-mapping.map           Locally Added               0 
 sim_mapping.awb           Locally Added               0 

Added mappings for airblue and h264

----------
kfleming    Date: Thu Oct 27 13:21:15 EDT 2011  CSN: CSN-multifpga-66
                  Thu Oct 27 17:21:15 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_xupv5.apm Locally Added               0 
 test_multifpga_scratch_acp.apm Locally Modified           65 
 test_multifpga_chains_xupv5.apm Locally Added               0 
 test_multifpga_scratch.apm Locally Modified           65 

Directory config/pm/leap/submodels/fpgaenv
 inter-fpga-test/          Locally Added               0 

Directory config/pm/leap/submodels/fpgaenv/inter-fpga-test
 inter-fpga-test-hybrid-exe-fpga1.apm Locally Added               0 
 inter-fpga-test-hybrid-exe-fpga0.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_xupv5.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 xupv50.apm                Locally Added               0 
 xupv51.apm                Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Added               0 

Directory config/pm/multifpga
 inter_fpga_test/          Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 simulation/               Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/simulation
 inter_test_0_simulation.apm Locally Added               0 
 inter_test_1_simulation.apm Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 xupv5/                    Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/xupv5
 inter_test_0_xupv5.apm    Locally Added               0 
 inter_test_1_xupv5.apm    Locally Added               0 

Directory modules/leap
 libraries/                Locally Added               0 

Directory modules/leap/libraries
 platform-services/        Locally Added               0 

Directory modules/leap/libraries/platform-services
 platform-services-inter-fpga.awb Locally Added               0 
 platform-services-inter-fpga.bsv Locally Added               0 
 inter-fpga-service/       Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service
 simulation/               Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service/simulation
 simulation-interfpga-service.h Locally Added               0 
 simulation-interfpga-service.awb Locally Added               0 
 simulation-interfpga-service.bsv Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service
 xupv5/                    Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service/xupv5
 xupv5-interfpga-service.cpp Locally Added               0 
 xupv5-interfpga-service.rrr Locally Added               0 
 xupv5-interfpga-service.h Locally Added               0 
 xupv5-interfpga-service.awb Locally Added               0 
 xupv5-interfpga-service.bsv Locally Added               0 

Directory modules/leap/libraries/platform-services
 README                    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation/fpga0
 sim-physical-platform-fpga0.awb Locally Modified           65 
 sim-physical-platform-fpga0.bsv Locally Modified           65 

Directory modules/leap-platforms/fpga-environments
 xupv5/                    Locally Added               0 

Directory modules/leap-platforms/fpga-environments/xupv5
 xupv5-dual.env            Locally Added               0 
 xupv5_fpga_env.awb        Locally Added               0 

Directory modules/multifpga
 inter-fpga-test/          Locally Added               0 

Directory modules/multifpga/inter-fpga-test
 inter-fpga-test.h         Locally Added               0 
 inter-fpga-test.awb       Locally Added               0 
 inter-fpga-test.bsv       Locally Added               0 
 inter-fpga-test.dic       Locally Added               0 
 inter-fpga-test.cpp       Locally Added               0 
 inter-fpga-test.rrr       Locally Added               0 


Added support multifpga compilation to a configuration of XUPV5s.

Also added some helpful single FPGA testbenches to be used in testing
pair-wise links.

----------
kfleming    Date: Fri Oct 28 08:09:34 EDT 2011  CSN: CSN-multifpga-67
                  Fri Oct 28 12:09:34 UTC 2011


Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           66 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           66 
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           66 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           66 
 alpha_inorder_dm_wt_ring_exe_16_multifpga.apm Locally Modified           66 

Directory config/pm/multifpga/fpga_submodels
 fpga0-dist-cache.apm      Locally Modified           66 
 fpga1-dist-cache.apm      Locally Modified           66 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           66 
 multifpga-router-service.bsv Locally Modified           66 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           66 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device-bdpi.c Locally Modified           66 
 unix-communication-device.awb Locally Modified           66 
 unix-communication-device.bsv Locally Modified           66 

Directory modules/multifpga/scratchdual
 connected_application/    Locally Added               0 

Directory modules/multifpga/scratchdual/connected_application
 connected-application-test.cpp Locally Added               0 
 connected-application-test.h Locally Added               0 
 connected-application-test.awb Locally Added               0 
 connected-application-test.bsv Locally Added               0 

Directory modules/multifpga/scratchdual
 test-c.bsv                Locally Modified           66 


Several changes

1) Improved multi-lane architecture, which removes several cycles of latency. 

2) Statistics collection for shared portions of multi-fpga routers

3) More realistic unix simulation, which, incidentally, greatly improves simulation speed. 

----------
kfleming    Date: Thu Nov  3 21:59:46 EDT 2011  CSN: CSN-multifpga-68
                  Fri Nov  4 01:59:46 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_acp.apm Locally Modified           67 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           67 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           67 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_32_multifpga.apm Locally Modified           67 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           67 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-switch.awb    Locally Modified           67 
 flowcontrol-egress.bsv    Locally Modified           67 
 flowcontrol-ingress.bsv   Locally Modified           67 
 flowcontrol-switch-regs.awb Locally Modified           67 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           67 
 danglingConnection.py     Locally Modified           67 

Directory modules/multifpga/longChain
 test-d.bsv                Locally Modified           67 

Directory modules/multifpga/synthTest
 test-c-chains.bsv         Locally Modified           67 
 test-d-chains.bsv         Locally Modified           67 


Two changes in this check in:

1) Fixed bug in flow control algorithm where packets lengths were
limited to 8.  These calculations are now done off a parameter. 

2) More intelligent marshalling scheme wherein we bit-pack as many
data bits in the header as possible.  This is useful in reducing
latencies/improving throughput in some multilane scenarios. 



----------
kfleming    Date: Wed Nov  9 18:19:16 EST 2011  CSN: CSN-multifpga-70
                  Wed Nov  9 23:19:16 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_xupv5.apm Locally Modified           69 
 test_multifpga_chains_xupv5_sma.apm Locally Added               0 
 test_multifpga_chains_xupv5_sata.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 xupv50.apm                Locally Modified           69 
 xupv51.apm                Locally Modified           69 
 xupv50_sata.apm           Locally Added               0 
 xupv51_sata.apm           Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0-sata.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           69 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           69 

Directory config/pm/multifpga/inter_fpga_test/xupv5
 inter_test_0_xupv5.apm    Locally Modified           69 
 inter_test_1_xupv5.apm    Locally Modified           69 
 inter_test_0_xupv5_sma_3.125gbps.apm Locally Added               0 
 inter_test_1_xupv5_sma_3.125gbps.apm Locally Added               0 
 inter_test_0_xupv5_sata_3gbps.apm Locally Added               0 
 inter_test_1_xupv5_sata_3gbps.apm Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 submodels/                Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/submodels
 fpgaenv-hybrid-xup-v5-pcie-sma.apm Locally Added               0 
 fpgaenv-hybrid-xup-v5-pcie-sata.apm Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           69 

Directory modules/leap/libraries/platform-services
 platform-services-inter-fpga.awb Locally Modified           69 

Directory modules/leap/libraries/platform-services/inter-fpga-service/xupv5
 xupv5-interfpga-service.bsv Locally Modified           69 

Directory modules/leap-platforms/fpga-environments/xupv5
 xupv5-dual.env            Locally Modified           69 
 xupv5-airblue-dual.env    Locally Added               0 
 xupv5_fpga_env.awb        Locally Modified           69 
 xupv5_airblue_fpga_env.awb Locally Added               0 
 xupv5-dual-sata.env       Locally Added               0 
 xupv5_fpga_env_sata.awb   Locally Added               0 

Directory modules/multifpga/synthTest/connected_application
 connected-application-test.cpp Locally Modified           69 


Added support for multi-fpga Airblue compilation.  The biggest
structural change here is that we now construct a coherent global view
of RRR and DICT files through the compilation process.  Previously,
support for this was limited. 


----------
kfleming    Date: Thu Nov 10 12:17:16 EST 2011  CSN: CSN-multifpga-71
                  Thu Nov 10 17:17:16 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_acp.apm Locally Modified           70 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           70 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           70 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           70 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device.bsv Locally Modified           70 


Added support for debug chains, and also several different styles of
multilane router, also primarily for debug purposes.

----------
kfleming    Date: Mon Nov 14 16:52:32 EST 2011  CSN: CSN-multifpga-72
                  Mon Nov 14 21:52:32 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_xupv5.apm Locally Modified           71 
 test_multifpga_rrr_exe.apm Locally Modified           71 
 test_multifpga_chains_exe.apm Locally Modified           71 
 test_multifpga_loop.apm   Locally Modified           71 
 test_multifpga_scratch_acp.apm Locally Modified           71 
 test_multifpga_chains_xupv5_sma.apm Locally Modified           71 
 test_multifpga_chains_xupv5.apm Locally Modified           71 
 traffic_light_acp_synth_multifpga.apm Locally Modified           71 
 test_multifpga_perf_acp.apm Locally Modified           71 
 test_multifpga_alternative_exe.apm Locally Modified           71 
 test_multifpga_perf_acp_single.apm Locally Modified           71 
 test_multifpga.apm        Locally Modified           71 
 test_multifpga_exe.apm    Locally Modified           71 
 test_multifpga_chains_xupv5_sata.apm Locally Modified           71 
 test_multifpga_scratch.apm Locally Modified           71 
 test_multifpga_chains_acp.apm Locally Modified           71 
 test_multifpga_rrr_acp.apm Locally Modified           71 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           71 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_dual_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_64_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_big_cache.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_dual_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_dual_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_dual_sram_4_lanes.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_xupv5.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_32_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_dist_cache_exe.apm Locally Modified           71 
 alpha_inorder_multifpga_exe.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_16_acp_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_64_multifpga.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_2.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_3.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_16_acp_dual_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp_sram_2.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_exe_16_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_acp.apm Locally Modified           71 

Directory config/pm/multifpga/inter_fpga_test/simulation
 inter_test_0_simulation.apm Locally Modified           71 
 inter_test_1_simulation.apm Locally Modified           71 

Directory modules/leap/build-support/build-pipelines/stages
 multifpga_generate_logfile/ Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 multitest.py              Locally Added               0 
 tool.py                   Locally Added               0 
 connection.py             Locally Added               0 
 multi_fpga_parse.awb      Locally Added               0 
 multilex.py               Locally Added               0 
 fpgaenvironment.awb       Locally Added               0 
 platform.py               Locally Added               0 
 environment.py            Locally Added               0 
 multifpga_parser.py       Locally Added               0 
 multiparse.py             Locally Added               0 
 README                    Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages
 multifpga-generate-bitfile/ Locally Removed            71 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multifpga-generate-bitfile.awb Locally Removed            71 
 multiFPGAGenerateBitfile.py Locally Removed            71 


Moved log generator phase of the multifpga compiler into the multifpga
package. Patched codes.

----------
kfleming    Date: Tue Nov 15 13:29:36 EST 2011  CSN: CSN-multifpga-73
                  Tue Nov 15 18:29:36 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           72 
 alpha_inorder_multifpga_time_func_acp_sram_2.apm Locally Modified           72 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           72 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           72 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 via.py                    Locally Modified           72 
 multiFPGAConnect.py       Locally Modified           72 


Removed fifos from egress-switch. These fifos were a holdover from the
original RRR implementation.  Now we just use the FIFOs in the
SoftConnection packetizer logic.  Removing this latency improves the
IPS of HAsim models by about 5%. 

There might be some impact on frequency quality, but I haven't seen it yet. 


----------
kfleming    Date: Fri Nov 18 15:49:26 EST 2011  CSN: CSN-multifpga-74
                  Fri Nov 18 20:49:26 UTC 2011


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           73 
 flowcontrol-ingress.bsv   Locally Modified           73 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           73 


Removed the channelization layer from the egress side. This reduces
hardware usage and removes a cycle of latency from the egress
pipeline.  Next up is removing this layer from the ingress side. 

----------

----------
kfleming    Date: Sat Nov 19 20:30:33 EST 2011  CSN: CSN-multifpga-75
                  Sun Nov 20 01:30:33 UTC 2011


Directory admin
 mytags                    Locally Modified           74 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           74 
 flowcontrol-ingress.bsv   Locally Modified           74 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           74 

Directory .
 changes                   Locally Modified           74 


Cut the final of 3 cycles from the multifpga routers. The
channelization layer is completely gone, and flow control is treated
as a special case of a normal channel. 

This set of changes appears to have decreased area substantially and
decreased runtimes by 11%.


----------
kfleming    Date: Mon Nov 21 11:16:36 EST 2011  CSN: CSN-multifpga-76
                  Mon Nov 21 16:16:36 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           75 


Refactored multifpga-connect in preparation for new channel allocation
algorithms.

----------
kfleming    Date: Tue Nov 22 15:49:42 EST 2011  CSN: CSN-multifpga-77
                  Tue Nov 22 20:49:42 UTC 2011


Directory config/pm/multifpga/fpga_submodels
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           76 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           76 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           76 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified           76 


1) Updated some stale xupv5 apms.
2) Removed channel ID from headers in flow control code.  Header information should not be used any longer.

----------
mcadler     Date: Mon Nov 28 07:22:58 EST 2011  CSN: CSN-multifpga-78
                  Mon Nov 28 12:22:58 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           77 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified           77 

Use consistent options for building logfile step since the inter-FPGA connections
may vary with compilation options.

----------
kfleming    Date: Mon Nov 28 11:45:02 EST 2011  CSN: CSN-multifpga-79
                  Mon Nov 28 16:45:02 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           78 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified           78 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           78 
 danglingConnection.py     Locally Modified           78 


Fixed the *broken* code refactoring.  Connections were being mis-linked.  

----------
mcadler     Date: Mon Nov 28 14:18:09 EST 2011  CSN: CSN-multifpga-80
                  Mon Nov 28 19:18:09 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           79 

Fix specification of explicit dependence of generated router on the Python
source file.  I don't understand how this worked as checked in.

----------
mcadler     Date: Thu Dec  1 14:38:18 EST 2011  CSN: CSN-multifpga-81
                  Thu Dec  1 19:38:18 UTC 2011


Directory config/pm/leap/submodels
 platform-services/        Locally Added               0 

Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-subordinate.apm Locally Added               0 
 multifpga-platform-services-standard.apm Locally Added               0 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           80 
 multifpgaenv-hybrid-exe-airblue-fpga0.apm Locally Modified           80 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           80 
 multifpgaenv-hybrid-exe-airblue-fpga1.apm Locally Modified           80 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           80 

Directory config/pm/leap/submodels/fpgaenv/inter-fpga-test
 inter-fpga-test-hybrid-exe-fpga1.apm Locally Modified           80 
 inter-fpga-test-hybrid-exe-fpga0.apm Locally Modified           80 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           80 

Directory config/pm/leap/submodels
 common/                   Locally Added               0 

Directory config/pm/leap/submodels/common
 multifpga-soft-services.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 acp0-sram.apm             Locally Modified           80 
 acp0.apm                  Locally Modified           80 
 acp1-sram.apm             Locally Modified           80 
 acp1.apm                  Locally Modified           80 
 multifpgaenv-hybrid-xupv5-fpga0-sata.apm Locally Modified           80 
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Modified           80 
 acp1-passthrough.apm      Locally Modified           80 
 fpga0.apm                 Locally Modified           80 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           80 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           80 

Directory config/pm/multifpga/inter_fpga_test/submodels
 fpgaenv-hybrid-xup-v5-pcie-sma.apm Locally Modified           80 
 fpgaenv-hybrid-xup-v5-pcie-sata.apm Locally Modified           80 

Directory modules/leap/virtual-platform/virtual-devices/platform-services
 platform-services-null.awb Locally Modified           80 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_bitfile
 multiFPGAGenerateBitfile.py Locally Modified           80 

Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSV-multi.py              Locally Modified           80 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified           80 

- Update platforms for LEAP changes:  moved platform and soft services to FPGA
  environment.

- Replace MULTI_FPGA_PLATFORM_ID and friends with awb parameters and Bluespec
  functions defined in all platforms (both multi and single FPGA).

- Reduce multi-FPGA soft services to two cases:  primary (has RRR connection to
  host) and subordinate (only intra and inter-FPGA services).

----------
kfleming    Date: Mon Dec  5 17:27:25 EST 2011  CSN: CSN-multifpga-82
                  Mon Dec  5 22:27:25 UTC 2011


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           81 
 flowcontrol-ingress.bsv   Locally Modified           81 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 via.py                    Locally Modified           81 
 multiFPGAConnect.py       Locally Modified           81 


Removed the cycles of latency introduced in last commit.  

Reorganized the switches to allow flowcontrol across a parametric
link.  Previously, link 0 was used for flowcontrol. However, with
asymetric lane allocation, the virtual channle used for flow control
can't be hard coded.  



----------
mcadler     Date: Wed Dec  7 11:54:09 EST 2011  CSN: CSN-multifpga-83
                  Wed Dec  7 16:54:09 UTC 2011


Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           82 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           82 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           82 

Directory config/pm/multifpga/fpga_submodels
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Modified           82 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           82 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           82 

Virtual devices no requires a local memory device.

----------
kfleming    Date: Fri Dec  9 14:31:06 EST 2011  CSN: CSN-multifpga-84
                  Fri Dec  9 19:31:06 UTC 2011


Directory config/pm/multifpga/fpga_submodels
 xupv50.apm                Locally Modified           83 
 xupv51.apm                Locally Modified           83 
 xupv51_sata.apm           Locally Modified           83 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           83 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           83 


Forward ported the XUPv5 enviroments to Adler's reorganized platforms.  

----------
mcadler     Date: Sat Dec 10 16:46:47 EST 2011  CSN: CSN-multifpga-85
                  Sat Dec 10 21:46:47 UTC 2011


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-subordinate.apm Locally Modified           84 
 multifpga-platform-services-standard.apm Locally Modified           84 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           84 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 environment.py            Locally Modified           84 

- FPGA platform numbering now must start with 0 (environment.py).

- Squash yet another use of absolute build directory paths.  I expect to be
  able to move a build tree and have all SCons paths be relative.

----------
kfleming    Date: Sun Dec 11 22:38:33 EST 2011  CSN: CSN-multifpga-86
                  Mon Dec 12 03:38:33 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_throughput_acp.apm Locally Added               0 
 test_multifpga_throughput_exe.apm Locally Added               0 
 test_multifpga_throughput_xupv5.apm Locally Added               0 

Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-subordinate.apm Locally Modified           85 

Directory config/pm/multifpga/fpga_submodels
 fpga0-airblue.apm         Locally Modified           85 
 fpga1-airblue.apm         Locally Modified           85 
 fpga1.apm                 Locally Modified           85 
 fpga0-dist-cache.apm      Locally Modified           85 
 fpga1-dist-cache.apm      Locally Modified           85 

Directory modules/multifpga
 throughputTest/           Locally Added               0 

Directory modules/multifpga/throughputTest
 test-c-throughput.bsv     Locally Added               0 
 test-d-throughput.bsv     Locally Added               0 
 test_c_throughput.awb     Locally Added               0 
 test_d_throughput.awb     Locally Added               0 
 test-c-throughput.dic     Locally Added               0 
 connected_application/    Locally Added               0 

Directory modules/multifpga/throughputTest/connected_application
 connected-application-throughput.h Locally Added               0 
 connected-application-throughput.awb Locally Added               0 
 connected-application-throughput.bsv Locally Added               0 
 connected-application-throughput.cpp Locally Added               0 

Directory modules/multifpga/throughputTest
 test-d-throughput.dic     Locally Added               0 
 test-d-throughput.rrr     Locally Added               0 


Added a generic platform throughput test.  Also fixed stalness in modules. 

----------
mcadler     Date: Mon Dec 12 14:59:26 EST 2011  CSN: CSN-multifpga-87
                  Mon Dec 12 19:59:26 UTC 2011


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-subordinate.apm Locally Modified           86 

Set subordinate platform services configuration back to the correct state.

----------
mcadler     Date: Tue Dec 13 13:52:34 EST 2011  CSN: CSN-multifpga-88
                  Tue Dec 13 18:52:34 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_bitfile
 multiFPGAGenerateBitfile.py Locally Modified           87 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified           87 

Use relpath() in LEAP Utils.py instead of os.path.relpath.  The latter isn't
in the version of Python currently used in Hudson.

----------
mcadler     Date: Wed Dec 14 16:14:06 EST 2011  CSN: CSN-multifpga-89
                  Wed Dec 14 21:14:06 UTC 2011


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-subordinate.apm Locally Modified           88 
 multifpga-platform-services-standard.apm Locally Modified           88 

The central cache implementation is now part of platform services.

----------
mcadler     Date: Wed Dec 14 23:29:38 EST 2011  CSN: CSN-multifpga-90
                  Thu Dec 15 04:29:38 UTC 2011


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-standard.apm Locally Modified           89 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-airblue-fpga0.apm Locally Modified           89 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           89 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           89 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           89 

Directory config/pm/multifpga/fpga_submodels
 xupv50_sata.apm           Locally Modified           89 
 xupv51_sata.apm           Locally Modified           89 
 multifpgaenv-hybrid-xupv5-fpga0-sata.apm Locally Modified           89 
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Modified           89 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           89 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           89 

Clean up.

----------
kfleming    Date: Fri Dec 16 13:44:41 EST 2011  CSN: CSN-multifpga-91
                  Fri Dec 16 18:44:41 UTC 2011


Directory modules/multifpga/throughputTest/connected_application
 connected-application-throughput.cpp Locally Modified           90 


Fixed print out in multifpga throughput test. 

----------
mcadler     Date: Mon Dec 19 09:06:44 EST 2011  CSN: CSN-multifpga-92
                  Mon Dec 19 14:06:44 UTC 2011


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-slave.apm Locally Added               - 
 multifpga-platform-services-master.apm Locally Added               0 
 multifpga-platform-services-subordinate.apm Locally Removed            91 
 multifpga-platform-services-standard.apm Locally Removed            91 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           91 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           91 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           91 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           91 

Directory config/pm/multifpga/fpga_submodels
 multifpgaenv-hybrid-xupv5-fpga0-sata.apm Locally Modified           91 
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Modified           91 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           91 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           91 

Directory modules/leap/virtual-platform/virtual-devices/platform-services
 platform-services-null.awb Locally Removed            91 
 platform-services-slave.awb Locally Added               - 
 platform-services-null.bsv Locally Removed            91 
 platform-services-slave.bsv Locally Added               - 
 platform-services-master.awb Locally Added               - 
 platform-services-master.bsv Locally Added               - 
 platform-services-standard.awb Locally Removed            91 
 platform-services-standard.bsv Locally Removed            91 

Use a single virtual devices configuration, taking advantage of automatic
master/slave configuration in virtual devices.

----------
mcadler     Date: Mon Dec 19 12:22:22 EST 2011  CSN: CSN-multifpga-93
                  Mon Dec 19 17:22:22 UTC 2011


Directory config/pm/leap/submodels/fpgaenv/inter-fpga-test
 inter-fpga-test-hybrid-exe-fpga0.apm Locally Modified           92 

Directory config/pm/multifpga/inter_fpga_test/submodels
 fpgaenv-hybrid-xup-v5-pcie-sma.apm Locally Modified           92 

Clean up after moving modules.

----------
kfleming    Date: Wed Dec 21 15:49:05 EST 2011  CSN: CSN-multifpga-94
                  Wed Dec 21 20:49:05 UTC 2011


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           93 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified           93 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 via.py                    Locally Modified           93 
 multiFPGAConnect.py       Locally Modified           93 


Fixed bug in flowcontrol-ingess thatq could lead the flow control
packets to be mis-sized in some cases.

Longest job first link allocation and scheduling now operational.  It
uses default values to determin longest job, which actually
underperforms some static schedules.  The feedback-driven version is
coming soon.


----------
mcadler     Date: Wed Dec 21 23:47:40 EST 2011  CSN: CSN-multifpga-95
                  Thu Dec 22 04:47:40 UTC 2011


Directory modules/leap/virtual-platform/virtual-devices/platform-services
 platform-services-slave.bsv Locally Modified           94 
 platform-services-master.bsv Locally Modified           94 

mkMemServices() no longer takes parameters.

----------
kfleming    Date: Wed Dec 28 09:05:10 EST 2011  CSN: CSN-multifpga-96
                  Wed Dec 28 14:05:10 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           95 

Directory modules/multifpga/alpha_inorder
 acp-mapping-time-func-cache.stats Locally Added               0 
 acp_mapping_time_func_cache.awb Locally Modified           95 


Added support for feedback driven link allocation.  User must provide
a stats file from a previous run and use the LFJ channel allocation
alogrithm.  This code isn't well-characterized yet. 


----------
mcadler     Date: Sun Jan  8 16:16:50 EST 2012  CSN: CSN-multifpga-97
                  Sun Jan  8 21:16:50 UTC 2012


Directory config/pm/leap/submodels/common
 multifpga-soft-services.apm Locally Modified           96 

Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSVmulti.py               Locally Modified           96 

Directory modules/leap/build-support/build-pipelines/stages/wrapper_gen
 multifpga_wrapper_gen.py  Locally Modified           96 

Multi-FPGA support for global string tables.

----------
mcadler     Date: Sun Jan 15 09:25:06 EST 2012  CSN: CSN-multifpga-98
                  Sun Jan 15 14:25:06 UTC 2012


Directory config/pm/leap/submodels/common
 multifpga-soft-services.apm Locally Modified           97 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           97 

Directory modules/leap/build-support/build-pipelines/stages/wrapper_gen
 multifpga_wrapper_gen.py  Locally Modified           97 

Soft connections notFull and notEmpty debug scanning for multi-FPGA.

----------
mcadler     Date: Thu Jan 19 08:12:11 EST 2012  CSN: CSN-multifpga-99
                  Thu Jan 19 13:12:11 UTC 2012


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           98 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device.bsv Locally Modified           98 

Update for changed LibRL marshaller interface.

----------
mcadler     Date: Tue Feb  7 22:18:10 EST 2012  CSN: CSN-multifpga-100
                  Wed Feb  8 03:18:10 UTC 2012


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-slave.apm Locally Modified           99 
 multifpga-platform-services-master.apm Locally Modified           99 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           99 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified           99 

- Add STDIO service to platform services.

- Interface to debug scan changed.  Made changes that are legal in the two
  Python files, but not optimal.  Should define actual fields instead of
  just dumping raw data.

----------
mcadler     Date: Wed Feb  8 01:20:43 EST 2012  CSN: CSN-multifpga-101
                  Wed Feb  8 06:20:43 UTC 2012


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          100 

Stop generating pointless DEBUG_SCAN dictionary entries.

----------
kfleming    Date: Mon Feb 13 11:30:39 EST 2012  CSN: CSN-multifpga-102
                  Mon Feb 13 16:30:39 UTC 2012


Directory config/pm/leap/demos/traffic_light
 test_multifpga_loop_acp.apm Locally Added               0 
 test_multifpga_loop.apm   Locally Modified          101 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          101 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified          101 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service.awb Locally Modified          101 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          101 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 multilex.py               Locally Modified          101 
 environment.py            Locally Modified          101 
 platform.py               Locally Modified          101 
 multiparse.py             Locally Modified          101 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device.awb Locally Modified          101 
 unix-communication-device.bsv Locally Modified          101 

Directory modules/leap-platforms/fpga-environments/acp
 acp-dual-sram-dual.env    Locally Modified          101 
 acp-dual-sram.env         Locally Modified          101 
 acp-dual.env              Locally Modified          101 
 acp-dual-airblue.env      Locally Modified          101 

Directory modules/leap-platforms/fpga-environments/xupv5
 xupv5-dual.env            Locally Modified          101 
 xupv5-airblue-dual.env    Locally Modified          101 
 xupv5-dual-sata.env       Locally Modified          101 

Directory modules/leap-platforms/fpga-environments/sim
 sim-dual.env              Locally Modified          101 
 sim-cache-dual.env        Locally Modified          101 
 sim-airblue-env.env       Locally Modified          101 

Directory modules/multifpga/longChain
 longChain.stats           Locally Added               0 
 test-d.rrr                Locally Added               0 
 connected_application/    Locally Added               0 

Directory modules/multifpga/longChain/connected_application
 connected-application-throughput.h Locally Added               0 
 connected-application-throughput.awb Locally Added               0 
 connected-application-throughput.bsv Locally Added               0 
 connected-application-throughput.cpp Locally Added               0 

Directory modules/multifpga/longChain
 test-c.bsv                Locally Modified          101 
 test-d.bsv                Locally Modified          101 
 test_d.awb                Locally Modified          101 
 top.awb                   Locally Modified          101 


Added a more elaborate lop test, driven by software. Also, fixed small
bug where FPGA ID's were assumed to be semantically meaningful.  We
now explicitly identify the master FPGA (i.e. the one connected to the
host) in the platform configuration file.  this decision should
probably be debated more fully.

----------
kfleming    Date: Mon Feb 13 17:32:46 EST 2012  CSN: CSN-multifpga-103
                  Mon Feb 13 22:32:46 UTC 2012


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          102 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified          102 
 flowcontrol-ingress.bsv   Locally Modified          102 

Directory modules/multifpga/longChain
 longChain.stats           Locally Modified          102 

Directory modules/multifpga/longChain/connected_application
 connected-application-throughput.cpp Locally Modified          102 

Directory modules/multifpga/longChain
 test-c.bsv                Locally Modified          102 
 test-d.bsv                Locally Modified          102 



Fixed some obvious and glaring bugs in LJF - namely we had some
holdovers from the old days when link 0 of a lane was always
flowcontrol.  As a result, whatever link was assigned to that lane had
no flow control run on it, leading to the occasional droppin of
data. This is fixed now. 

LJF gives a 2.75x speedup on the ACP over the Random, single lane for
the loop test.  I feel like this number should be closer to 5x though,
so there's probably a performance bug in the allocation algorithm.


----------
kfleming    Date: Wed Feb 15 13:04:03 EST 2012  CSN: CSN-multifpga-104
                  Wed Feb 15 18:04:03 UTC 2012


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          103 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified          103 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          103 

Directory modules/multifpga/alpha_inorder
 acp_mapping_time_func.awb Locally Modified          103 


Two perf bug fixes:

1) Marshalled links were sending PHYSICAL_CONNECTION_SIZE bits, even
if the link itself was narrower than this size.  This issue only
appears when a large number of channels are allocated (probably more
than 2).  In the LJF allocation it was a significant performance issue
in some cases.

2) LJF was setting lane widths without allocating an extra bit for
valid signalling. As a result the priority link for which the lane was
being sized was always forced to a marshalled implementation.  No
wonder LJF performance had been bad.  

There still seems to be some issue related to flow control priority in
the LJF case.  This may be the largest remaining source of performance
degredation remaining.  The solution is probably some combination of
tweaking when FC tokens get returned, increasing buffer length, and
giving priority to FC channels.  FC channels currently have very low
priority (based on my reading of the arbiter code). 




----------
mcadler     Date: Fri Feb 17 19:28:18 EST 2012  CSN: CSN-multifpga-105
                  Sat Feb 18 00:28:18 UTC 2012


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-slave.apm Locally Modified          104 
 multifpga-platform-services-master.apm Locally Modified          104 

Update stale configurations.

----------
mcadler     Date: Sun Feb 19 09:49:30 EST 2012  CSN: CSN-multifpga-106
                  Sun Feb 19 14:49:30 UTC 2012


Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSVmulti.py               Locally Modified          105 

A number of patches from BSV.py in leap were missing from the multi-FPGA version,
including some dependence tracking and an update to global string tables.
The latter caused string table corruption.

----------
mcadler     Date: Wed Feb 29 16:07:51 EST 2012  CSN: CSN-multifpga-108
                  Wed Feb 29 21:07:51 UTC 2012


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-slave.apm Locally Modified          107 

Directory modules/leap/virtual-platform/virtual-devices/platform-services
 platform-services-master.bsv Locally Modified          107 

Directory modules/multifpga/longChain/connected_application
 connected-application-throughput.cpp Locally Modified          107 

Directory modules/multifpga/synthTest/connected_application
 connected-application-test.cpp Locally Modified          107 
 connected-application-perf.cpp Locally Modified          107 

Directory modules/multifpga/inter-fpga-test
 inter-fpga-test.cpp       Locally Modified          107 

Directory modules/multifpga/throughputTest/connected_application
 connected-application-throughput.cpp Locally Modified          107 

Directory modules/multifpga/scratchdual/connected_application
 connected-application-test.cpp Locally Modified          107 

STATS_DEVICE is now STATS_SERVER.

----------
mcadler     Date: Wed Feb 29 20:12:06 EST 2012  CSN: CSN-multifpga-109
                  Thu Mar  1 01:12:06 UTC 2012


Directory config/pm/leap/submodels/platform-services
 multifpga-platform-services-slave.apm Locally Modified          108 

Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSVmulti.py               Locally Modified          108 

Directory modules/multifpga/airblue
 acp-mapping.map           Locally Modified          108 

Directory modules/multifpga/h264
 acp-mapping.map           Locally Modified          108 
 sim-mapping.map           Locally Modified          108 

Directory modules/multifpga/synthTest
 sim-alternative.map       Locally Modified          108 
 sim-mapping.map           Locally Modified          108 
 acp-mapping.map           Locally Modified          108 
 acp-perf.map              Locally Modified          108 

Directory modules/multifpga/alpha_inorder
 sim-mapping-time-func.map Locally Modified          108 
 sim-mapping-time-func-cache.map Locally Modified          108 
 acp-mapping-time-func-cache-2.map Locally Modified          108 
 sim-mapping.map           Locally Modified          108 
 acp-mapping-time-func.map Locally Modified          108 
 acp-mapping-time-func-cache-3.map Locally Modified          108 
 acp-mapping-time-func-cache.map Locally Modified          108 

- Now that common services are a synthesis boundary, the code for slave FPGAs
  is actually simpler.  We no longer need the "NULL" implementation.  Instead,
  it is mapped to the master.

- Merge changes from LEAP's BSV.py to BSVmulti.py

----------
mcadler     Date: Thu Mar 15 15:28:25 EDT 2012  CSN: CSN-multifpga-110
                  Thu Mar 15 19:28:25 UTC 2012


Directory config/pm/multifpga/fpga_submodels
 acp0-sram.apm             Locally Modified          109 
 acp0.apm                  Locally Modified          109 
 acp1-sram.apm             Locally Modified          109 
 acp1.apm                  Locally Modified          109 
 acp1-passthrough.apm      Locally Modified          109 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          109 

- Generate debug scan data with named fields in the inter-FPGA router.
- Clean up ACP configuration files using latest awb that doesn't save
  global parameters with default values.

  

----------
kfleming    Date: Fri Mar 16 16:49:30 EDT 2012  CSN: CSN-multifpga-111
                  Fri Mar 16 20:49:30 UTC 2012


Directory config/pm/leap/demos/traffic_light
 test_multifpga_spiral_exe.apm Locally Added               0 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-airblue-fpgaN.apm Locally Added               0 
 multifpgaenv-hybrid-exe-fpga0-quad.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 fpga0_4.apm               Locally Added               0 
 fpga1_4.apm               Locally Added               0 
 fpga2_4.apm               Locally Added               0 
 fpga3_4.apm               Locally Added               0 
 fpga0.apm                 Locally Modified          110 
 fpga1.apm                 Locally Modified          110 
 fpga0-dist-cache.apm      Locally Modified          110 
 fpga1-dist-cache.apm      Locally Modified          110 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          110 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified          110 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          110 
 danglingConnection.py     Locally Modified          110 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified          110 
 multilex.py               Locally Modified          110 
 environment.py            Locally Modified          110 

Directory modules/leap/build-support/build-pipelines/stages/wrapper_gen
 fpgamaplex.py             Locally Modified          110 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 fpgaN/                    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation/fpgaN
 sim-physical-platform-fpgaN.h Locally Added               0 
 sim-physical-platform-fpgaN.awb Locally Added               0 
 sim-physical-platform-fpgaN.bsv Locally Added               0 
 sim-physical-platform-fpgaN.bsh Locally Added               0 
 sim-physical-platform-fpgaN.cpp Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation/fpga0
 sim-physical-platform-fpga0.awb Locally Modified          110 
 sim-physical-platform-fpga0.bsv Locally Modified          110 

Directory modules/leap-platforms/fpga-environments/sim
 sim_fpga_env_quad.awb     Locally Added               0 
 sim-dual.env              Locally Modified          110 
 sim-cache-dual.env        Locally Modified          110 
 sim-quad-ring.env         Locally Added               0 
 sim-quad.env              Locally Added               0 
 sim_fpga_env_quad_ring.awb Locally Added               0 

Directory modules/multifpga
 ringTest/                 Locally Added               0 

Directory modules/multifpga/ringTest
 test_d_chains.awb         Locally Added               0 
 test-a.bsv                Locally Added               0 
 test-b.bsv                Locally Added               0 
 test_a.awb                Locally Added               0 
 test-d-rrr.rrr            Locally Added               0 
 test_b.awb                Locally Added               0 
 test-c-chains.bsv         Locally Added               0 
 test-d-chains.bsv         Locally Added               0 
 test-c.dic                Locally Added               0 
 test-d.dic                Locally Added               0 
 test_c_chains.awb         Locally Added               0 

Directory modules/multifpga/longChain/connected_application
 connected-application-throughput.cpp Locally Modified          110 

Directory modules/multifpga/synthTest
 sim_mapping_ring1.awb     Locally Added               0 
 sim_mapping_ring2.awb     Locally Added               0 
 sim-ring1.map             Locally Added               0 
 sim-ring2.map             Locally Added               0 

Directory modules/multifpga/synthTest/connected_application
 connected-application-test.cpp Locally Modified          110 

Directory modules/multifpga/alpha_inorder
 sim_mapping_quad.awb      Locally Added               0 
 sim-mapping-quad.map      Locally Added               0 

Directory modules/multifpga
 spiral/                   Locally Added               0 

Directory modules/multifpga/spiral
 test_common.bsv           Locally Added               0 
 test-a.bsv                Locally Added               0 
 test-b.bsv                Locally Added               0 
 test_a.awb                Locally Added               0 
 test_b.awb                Locally Added               0 
 test-c.bsv                Locally Added               0 
 test-d.bsv                Locally Added               0 
 test_c.awb                Locally Added               0 
 test_d.awb                Locally Added               0 
 test_top.bsv              Locally Added               0 
 test-common.bsv           Locally Added               0 
 longChain.stats           Locally Added               0 
 test_common.awb           Locally Added               0 
 test-d.rrr                Locally Added               0 
 top.awb                   Locally Added               0 


This large commit adds support for FPGA platforms with more than two
FPGAS.  This includes platforms with assymetric connections between FPGAs.

1) Added a new simulation platforms which generates N links between
simulation FPGAs.  This allows us to reuse the same physical platform
for all simulation runs.

2) Added route through links. If FPGAs are not physically connected,
the compiler syntheisizes routing between them.  I currently don't do
anything clever here.

3) Added configurations and test cases to test the new code. Things
seem to be working.


----------
kfleming    Date: Sun Mar 18 18:33:50 EDT 2012  CSN: CSN-multifpga-112
                  Sun Mar 18 22:33:50 UTC 2012


Directory config/pm/leap/demos
 traffic_light/            Locally Removed           111 

Directory config/pm/leap/demos/traffic_light
 test_multifpga_loop_acp.apm Locally Removed           111 
 test_multifpga_throughput_acp.apm Locally Removed           111 
 test_multifpga_perf_xupv5.apm Locally Removed           111 
 test_multifpga_rrr_exe.apm Locally Removed           111 
 test_multifpga_chains_exe.apm Locally Removed           111 
 test_multifpga_loop.apm   Locally Removed           111 
 test_multifpga_scratch_acp.apm Locally Removed           111 
 test_multifpga_throughput_exe.apm Locally Removed           111 
 test_multifpga_chains_xupv5_sma.apm Locally Removed           111 
 test_multifpga_chains_xupv5.apm Locally Removed           111 
 traffic_light_acp_synth_multifpga.apm Locally Removed           111 
 test_multifpga_perf_acp.apm Locally Removed           111 
 test_multifpga_alternative_exe.apm Locally Removed           111 
 test_multifpga.apm        Locally Removed           111 
 test_multifpga_throughput_xupv5.apm Locally Removed           111 
 test_multifpga_perf_acp_single.apm Locally Removed           111 
 test_multifpga_exe.apm    Locally Removed           111 
 test_multifpga_chains_xupv5_sata.apm Locally Removed           111 
 test_multifpga_scratch.apm Locally Removed           111 
 test_multifpga_rrr_acp.apm Locally Removed           111 
 test_multifpga_chains_acp.apm Locally Removed           111 
 test_multifpga_spiral_exe.apm Locally Removed           111 


Moved the multifpga test cases from traffic_light to multifpga.  Not
great, but better than before.

----------
mcadler     Date: Mon Mar 19 19:39:57 EDT 2012  CSN: CSN-multifpga-113
                  Mon Mar 19 23:39:57 UTC 2012


Directory modules/multifpga/longChain/connected_application
 connected-application-throughput.cpp Locally Modified          112 

Directory modules/multifpga/synthTest/connected_application
 connected-application-test.cpp Locally Modified          112 
 connected-application-perf.cpp Locally Modified          112 

Directory modules/multifpga/inter-fpga-test
 inter-fpga-test.cpp       Locally Modified          112 

Directory modules/multifpga/throughputTest/connected_application
 connected-application-throughput.cpp Locally Modified          112 

Directory modules/multifpga/scratchdual/connected_application
 connected-application-test.cpp Locally Modified          112 

Statistics initialization now handled by common platform services.  If these
modules used the standard application wrapper they wouldn't have to deal with
statistics at all.

----------
mcadler     Date: Sun Mar 25 17:11:37 EDT 2012  CSN: CSN-multifpga-114
                  Sun Mar 25 21:11:37 UTC 2012


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          113 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_bitfile
 multiFPGAGenerateBitfile.py Locally Modified          113 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified          113 

Directory modules/multifpga/ringTest
 test_d_chains.awb         Locally Modified          113 
 test-c-chains.bsv         Locally Modified          113 
 test-d-chains.bsv         Locally Modified          113 
 test-c.dic                Locally Removed           113 
 test-d.dic                Locally Removed           113 
 test_c_chains.awb         Locally Modified          113 

Directory modules/multifpga/synthTest
 test_d_chains.awb         Locally Modified          113 
 test-c-chains.bsv         Locally Modified          113 
 test-c.dic                Locally Removed           113 
 test-d.dic                Locally Removed           113 
 test_c_chains.awb         Locally Modified          113 
 test_d_rrr.awb            Locally Modified          113 
 test-d-chains.bsv         Locally Modified          113 
 test_d_perf.awb           Locally Modified          113 

Statistics IDs are now global strings instead of dictionary entries.

----------
mcadler     Date: Mon Mar 26 18:56:09 EDT 2012  CSN: CSN-multifpga-115
                  Mon Mar 26 22:56:09 UTC 2012


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          114 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          114 

- Move router statistics generation to a Python class so the code is in one
  place.

- Generate all statistics for a module as a single node instead of one node
  per counter.  Even on small designs this saves about 4% of a Virtex 5-LX330.

- Clean up some of the code generated by the Python script (break long lines)
  so it is human readable.

- Pass statistics increment methods as functions to the router code
  (needed for grouping multiple counters into a single node).

----------
mcadler     Date: Tue Mar 27 20:47:45 EDT 2012  CSN: CSN-multifpga-116
                  Wed Mar 28 00:47:45 UTC 2012


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          115 

Move the code generation for statistics increments to the statistics class,
leaving only one line to change in order to use a different method.

----------
mcadler     Date: Thu Mar 29 08:02:58 EDT 2012  CSN: CSN-multifpga-117
                  Thu Mar 29 12:02:58 UTC 2012


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified          116 

Use non-blocking statistics counters to avoid deadlock.

----------
kfleming    Date: Fri Apr  6 18:00:15 EDT 2012  CSN: CSN-multifpga-118
                  Fri Apr  6 22:00:15 UTC 2012


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified          117 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified          117 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 via.py                    Locally Modified          117 
 multiFPGAConnect.py       Locally Modified          117 

Directory modules/multifpga/spiral
 test_common.bsv           Locally Modified          117 
 test-common.bsv           Locally Modified          117 
 test_common.awb           Locally Modified          117 


Added support for back-to-back reads from the same channel in the
ingress switch.  This required adding more precise buffer control
mechanims to the packetizers and soft-connections.

Also, I made the type generation for the lanes a little more precise.
Now we use the maximum width link actually allocated to the lane,
rather than the PHYSICAL_CONNECTION_SIZE.  This makes packets more
efficient. It also allows us to eliminate marshalling logic in some of
the packetizers.
