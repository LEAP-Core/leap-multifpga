
----------
kfleming    Date: Sun May 15 19:17:39 EDT 2011  CSN: CSN-multifpga-3
                  Sun May 15 23:17:39 UTC 2011


Directory config/pm
 leap/                     Locally Added               0 

Directory config/pm/leap
 demos/                    Locally Added               0 

Directory config/pm/leap/demos
 traffic_light/            Locally Added               0 

Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Added               0 

Directory modules
 leap/                     Locally Added               0 

Directory modules/leap
 build-support/            Locally Added               0 

Directory modules/leap/build-support
 stages/                   Locally Added               0 
 project/                  Locally Added               0 

Directory modules/leap/build-support/project
 project-multifpga.awb     Locally Added               0 

Directory modules/leap/build-support
 pipelines/                Locally Added               0 

Directory modules/leap/build-support/pipelines
 multifpga/                Locally Added               0 

Directory modules/multifpga
 README                    Locally Removed             2 


Fleshing out directory structure and adding some apm

----------
kfleming    Date: Mon May 16 09:24:36 EDT 2011  CSN: CSN-multifpga-4
                  Mon May 16 13:24:36 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified            3 

Directory config/pm/multifpga
 fpga_submodels/           Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 acp0.apm                  Locally Added               0 
 acp1.apm                  Locally Added               0 

Directory modules
 leap-platforms/           Locally Added               0 

Directory modules/leap-platforms
 fpga-environments/        Locally Added               0 

Directory modules/leap-platforms/fpga-environments
 acp/                      Locally Added               0 

Directory modules/leap-platforms/fpga-environments/acp
 acp_fpga_env.awb          Locally Added               0 
 acp-dual.env              Locally Added               0 

Added more structure to the multifpga build

----------
kfleming    Date: Tue May 17 14:01:54 EDT 2011  CSN: CSN-multifpga-5
                  Tue May 17 18:01:54 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified            4 

Directory modules/leap/build-support
 build-pipelines/          Locally Added               0 

Directory modules/leap/build-support/build-pipelines
 pipelines/                Locally Added               0 

Directory modules/leap/build-support/build-pipelines/pipelines
 multifpga/                Locally Added               0 

Directory modules/leap/build-support/build-pipelines/pipelines/multifpga
 multifpga-build-pipeline.awb Locally Added               0 
 multiFPGAPipeline.py      Locally Added               0 

Directory modules/leap/build-support/project
 project-multifpga.awb     Locally Modified            4 

Directory modules/leap-platforms/fpga-environments/acp
 acp-dual.env              Locally Modified            4 



Added an initial pipeline stage for parsing the fpga file

----------
kfleming    Date: Thu Jun 30 13:13:16 EDT 2011  CSN: CSN-multifpga-27
                  Thu Jun 30 17:13:16 UTC 2011


Directory modules/leap-platforms/fpga-environments/acp
 acp_fpga_env_airblue.awb  Locally Added               0 
 acp-dual-airblue.env      Locally Added               0 


Added ACP environment for airblue

----------
keflemin    Date: Thu Jul  7 09:14:35 EDT 2011  CSN: CSN-multifpga-29
                  Thu Jul  7 13:14:35 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_16_multifpga.apm Locally Added               0 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga.apm Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_16_connected_application.apm Locally Added               0 
 alpha_inorder_dm_wt_mesh_acp_64_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_acp.apm Locally Modified           28 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           28 

Directory modules/multifpga/alpha_inorder
 acp_mapping_time_func_cache.awb Locally Added               0 
 acp-mapping-time-func-cache.map Locally Added               0 


Added mapping files and apm for various alpha builds.

----------
keflemin    Date: Fri Jul  8 19:44:36 EDT 2011  CSN: CSN-multifpga-30
                  Fri Jul  8 23:44:36 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_64_multifpga.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_ring_acp_16_connected_application.apm Locally Added               0 
 alpha_inorder_dm_wt_ring_acp_64_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_16_multifpga.apm Locally Added               0 


Added multifpga models for rings.

----------
mcadler     Date: Thu Aug  4 17:42:27 EDT 2011  CSN: CSN-multifpga-44
                  Thu Aug  4 21:42:27 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages
 iface/                    Locally Removed            43 

Directory modules/leap/build-support/build-pipelines/stages/iface
 iface.awb                 Locally Removed            43 
 README                    Locally Removed            43 
 iface.py                  Locally Removed            43 

Remove iface code from multifpga.  It had no changes for multiple FPGAs and
was out of date.

----------
mcadler     Date: Fri Aug  5 16:16:50 EDT 2011  CSN: CSN-multifpga-45
                  Fri Aug  5 20:16:50 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/wrapper_gen
 multifpga_wrapper_gen.py  Locally Modified           44 

Patches from main leap repository version.

----------
kfleming    Date: Mon Aug 15 18:21:28 EDT 2011  CSN: CSN-multifpga-47
                  Mon Aug 15 22:21:28 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/null_software
 software_null.py          Locally Modified           46 


need fix for syntax.h.

----------
kfleming    Date: Fri Aug 19 14:48:53 EDT 2011  CSN: CSN-multifpga-48
                  Fri Aug 19 18:48:53 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_exe.apm    Locally Modified           47 
 test_multifpga_loop.apm   Locally Added               0 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           47 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           47 
 flowcontrol-ingress.bsv   Locally Modified           47 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service.bsv Locally Modified           47 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device-bdpi.c Locally Modified           47 
 unix-communication-device-bdpi.h Locally Modified           47 
 unix-communication-device.bsv Locally Modified           47 

Directory modules/multifpga
 longChain/                Locally Added               0 

Directory modules/multifpga/longChain
 test-b.bsv                Locally Added               0 
 test-c.bsv                Locally Added               0 
 test_b.awb                Locally Added               0 
 test_c.awb                Locally Added               0 
 test-d.bsv                Locally Added               0 
 top.awb                   Locally Added               0 
 test_top.bsv              Locally Added               0 
 test_d.awb                Locally Added               0 


Buckets of code to support multifpga compilation.  

----------
kfleming    Date: Mon Aug 22 14:41:04 EDT 2011  CSN: CSN-multifpga-49
                  Mon Aug 22 18:41:04 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_16_acp_sram.apm Locally Added               0 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           48 
 flowcontrol-ingress.bsv   Locally Modified           48 


Reduced 2-cycle behavior of flow control updates.  This nets about 5% performance in HAsim.  

----------
mpellaue    Date: Thu Aug 25 18:16:02 EDT 2011  CSN: CSN-multifpga-50
                  Thu Aug 25 22:16:02 UTC 2011


Directory config/pm/leap/demos/traffic_light
 traffic_light_acp_synth_multifpga.apm Locally Modified           49 
 test_multifpga.apm        Locally Modified           49 
 test_multifpga_exe.apm    Locally Modified           49 
 test_multifpga_rrr_exe.apm Locally Modified           49 
 test_multifpga_loop.apm   Locally Modified           49 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           49 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           49 

Directory config/pm/leap/submodels/pipelines
 build-pipeline-xilinx-multifpga.apm Locally Modified           49 

Directory config/pm/multifpga/fpga_submodels
 acp0-sram.apm             Locally Modified           49 
 acp0.apm                  Locally Modified           49 
 acp1.apm                  Locally Modified           49 
 fpga0.apm                 Locally Modified           49 
 fpga1.apm                 Locally Modified           49 


* Updated stale .apm files.
* Removed reference to no-longer existing xst-nobasicio stage.

----------
kfleming    Date: Thu Sep  1 08:45:25 EDT 2011  CSN: CSN-multifpga-52
                  Thu Sep  1 12:45:25 UTC 2011


Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           51 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           51 

Directory config/pm/multifpga/fpga_submodels
 fpga0-dist-cache.apm      Locally Modified           51 
 fpga1-dist-cache.apm      Locally Modified           51 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           51 


Patched a few apm and broke some critical paths in flow control.

----------
mcadler     Date: Fri Sep  9 07:27:25 EDT 2011  CSN: CSN-multifpga-55
                  Fri Sep  9 11:27:25 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           54 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           54 

Build all sub-models under the parent in the multi_fpga directory.

----------
mcadler     Date: Fri Sep  9 10:41:24 EDT 2011  CSN: CSN-multifpga-56
                  Fri Sep  9 14:41:24 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/null_software
 software_null.py          Locally Modified           55 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           55 

Directory modules/multifpga/synthTest
 test-c.dic                Locally Modified           55 
 test-d.dic                Locally Modified           55 

- Pass OPT, DEBUG, TRACE and EVENTS command line options to sub-model builds.
- Check status of sub-model build
- Fix a couple of syntax warnings.

----------
mcadler     Date: Mon Sep 12 17:08:52 EDT 2011  CSN: CSN-multifpga-58
                  Mon Sep 12 21:08:52 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_sram.apm Locally Removed            57 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_dual_sram.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_16_connected_application.apm Locally Modified           57 
 alpha_inorder_dm_wt_mesh_acp_64_connected_application.apm Locally Modified           57 

Directory config/pm/multifpga/fpga_submodels
 acp0.apm                  Locally Modified           57 
 acp0-sram.apm             Locally Modified           57 
 acp1.apm                  Locally Modified           57 
 acp1-sram.apm             Locally Modified           57 
 acp1-passthrough.apm      Locally Modified           57 

- ACP configuration:
  - Update soft connections CON_CWIDTH to 128 bits
  - Use -cm balanced during mapping
  - Make the default scratchpad L1 cache 4K entries
  - Set default model clock frequency to 50MHz for SRAM models.

- Alpha mesh models:
  - Set default memory controller location to the center of the mesh.
  - Replace single SRAM 64-CPU configuration with a dual SRAM configuration.

----------
mcadler     Date: Tue Sep 13 14:09:23 EDT 2011  CSN: CSN-multifpga-59
                  Tue Sep 13 18:09:23 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_16_multifpga.apm Locally Removed            58 

Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_30_connected_application.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_64_multifpga.apm Locally Removed            58 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_sram.apm Locally Removed            58 
 alpha_inorder_dm_wt_mesh_acp_30_multifpga_dual_sram.apm Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           58 

- The multi-FPGA rule for building the bitfiles in the 2nd pass now can take
  the command to execute from a variable specified on the SCons command
  line:  MULTIFPGA_BITFILE_COMPILE_CMD.  If set, that command will be executed
  in each bitfile build subdirectory.  The command could submit a batch job,
  compile for multiple cost tables, etc.  If not specified, the old behavior
  of invoking SCons remains.

- Add a 30-way mesh model (32 would be an 8x4 rectangle, 30 is more square at
  6x5).

- Remove all mesh models lacking SRAM on each FPGA.

----------
mcadler     Date: Thu Sep 15 16:41:59 EDT 2011  CSN: CSN-multifpga-60
                  Thu Sep 15 20:41:59 UTC 2011


Directory config/pm/hasim-alpha/multifpga/submodels
 alpha_inorder_dm_wt_mesh_acp_30_connected_application.apm Locally Removed            59 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_mesh_acp_30_multifpga_dual_sram.apm Locally Removed            59 

Remove useless model.  The mesh has to be square, so only 25 nodes are supported.
Model frequency was essentially the same as the 64 node model, so there is
nothing gained by building for 25.

----------
mcadler     Date: Wed Oct  5 17:43:33 EDT 2011  CSN: CSN-multifpga-61
                  Wed Oct  5 21:43:33 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/bluespec
 BSVmulti.py               Locally Modified           60 

Use SCons "Copy" factory instead of "cp" because SCons stores the signature of
the program in the build dependence.  If "cp" is a different binary it looks like
rebuilding is needed.

Removed mkdir from the rules instead of using "Mkdir" factory, since the
directories appear to be present already and the factory version fails if
the target exists.

----------
kfleming    Date: Tue Oct 11 16:45:24 EDT 2011  CSN: CSN-multifpga-62
                  Tue Oct 11 20:45:24 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_exe.apm Locally Modified           61 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           61 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           61 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           61 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           61 


Added support for automatically instrumenting inter-FPGA links with statistics.

----------
kfleming    Date: Wed Oct 12 12:20:24 EDT 2011  CSN: CSN-multifpga-63
                  Wed Oct 12 16:20:24 UTC 2011


Directory config/pm
 h264/                     Locally Added               0 

Directory config/pm/h264
 softphy_SOVA_acp.apm      Locally Added               0 
 h264_multifpga_decoder_split_synth.apm Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/h264/submodels
 h264_multifpga.apm        Locally Added               0 

Directory config/pm/h264
 h264_multifpga_decoder_split_synth_exe.apm Locally Added               0 

Directory config/pm
 airblue/                  Locally Added               0 

Directory config/pm/airblue
 library_tests/            Locally Added               0 

Directory config/pm/airblue/library_tests
 softphy_SOVA_acp.apm      Locally Added               0 
 submodels/                Locally Added               0 

Directory config/pm/airblue/library_tests/submodels
 viterbi_softphy_hw_only_submodel.apm Locally Added               0 
 viterbi_softphy_submodel.apm Locally Added               0 

Directory modules/multifpga
 h264/                     Locally Added               0 

Directory modules/multifpga/h264
 acp_mapping.awb           Locally Added               0 
 acp-mapping.map           Locally Added               0 
 sim_mapping.awb           Locally Added               0 
 sim-mapping.map           Locally Added               0 

Directory modules/multifpga
 airblue/                  Locally Added               0 

Directory modules/multifpga/airblue
 acp_mapping.awb           Locally Added               0 
 acp-mapping.map           Locally Added               0 
 sim_mapping.awb           Locally Added               0 

Added mappings for airblue and h264

----------
kfleming    Date: Thu Oct 27 13:21:15 EDT 2011  CSN: CSN-multifpga-66
                  Thu Oct 27 17:21:15 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_xupv5.apm Locally Added               0 
 test_multifpga_scratch_acp.apm Locally Modified           65 
 test_multifpga_chains_xupv5.apm Locally Added               0 
 test_multifpga_scratch.apm Locally Modified           65 

Directory config/pm/leap/submodels/fpgaenv
 inter-fpga-test/          Locally Added               0 

Directory config/pm/leap/submodels/fpgaenv/inter-fpga-test
 inter-fpga-test-hybrid-exe-fpga1.apm Locally Added               0 
 inter-fpga-test-hybrid-exe-fpga0.apm Locally Added               0 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_xupv5.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 xupv50.apm                Locally Added               0 
 xupv51.apm                Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Added               0 

Directory config/pm/multifpga
 inter_fpga_test/          Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 simulation/               Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/simulation
 inter_test_0_simulation.apm Locally Added               0 
 inter_test_1_simulation.apm Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 xupv5/                    Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/xupv5
 inter_test_0_xupv5.apm    Locally Added               0 
 inter_test_1_xupv5.apm    Locally Added               0 

Directory modules/leap
 libraries/                Locally Added               0 

Directory modules/leap/libraries
 platform-services/        Locally Added               0 

Directory modules/leap/libraries/platform-services
 platform-services-inter-fpga.awb Locally Added               0 
 platform-services-inter-fpga.bsv Locally Added               0 
 inter-fpga-service/       Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service
 simulation/               Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service/simulation
 simulation-interfpga-service.h Locally Added               0 
 simulation-interfpga-service.awb Locally Added               0 
 simulation-interfpga-service.bsv Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service
 xupv5/                    Locally Added               0 

Directory modules/leap/libraries/platform-services/inter-fpga-service/xupv5
 xupv5-interfpga-service.cpp Locally Added               0 
 xupv5-interfpga-service.rrr Locally Added               0 
 xupv5-interfpga-service.h Locally Added               0 
 xupv5-interfpga-service.awb Locally Added               0 
 xupv5-interfpga-service.bsv Locally Added               0 

Directory modules/leap/libraries/platform-services
 README                    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation/fpga0
 sim-physical-platform-fpga0.awb Locally Modified           65 
 sim-physical-platform-fpga0.bsv Locally Modified           65 

Directory modules/leap-platforms/fpga-environments
 xupv5/                    Locally Added               0 

Directory modules/leap-platforms/fpga-environments/xupv5
 xupv5-dual.env            Locally Added               0 
 xupv5_fpga_env.awb        Locally Added               0 

Directory modules/multifpga
 inter-fpga-test/          Locally Added               0 

Directory modules/multifpga/inter-fpga-test
 inter-fpga-test.h         Locally Added               0 
 inter-fpga-test.awb       Locally Added               0 
 inter-fpga-test.bsv       Locally Added               0 
 inter-fpga-test.dic       Locally Added               0 
 inter-fpga-test.cpp       Locally Added               0 
 inter-fpga-test.rrr       Locally Added               0 


Added support multifpga compilation to a configuration of XUPV5s.

Also added some helpful single FPGA testbenches to be used in testing
pair-wise links.

----------
kfleming    Date: Fri Oct 28 08:09:34 EDT 2011  CSN: CSN-multifpga-67
                  Fri Oct 28 12:09:34 UTC 2011


Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           66 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           66 
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           66 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           66 
 alpha_inorder_dm_wt_ring_exe_16_multifpga.apm Locally Modified           66 

Directory config/pm/multifpga/fpga_submodels
 fpga0-dist-cache.apm      Locally Modified           66 
 fpga1-dist-cache.apm      Locally Modified           66 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           66 
 multifpga-router-service.bsv Locally Modified           66 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           66 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device-bdpi.c Locally Modified           66 
 unix-communication-device.awb Locally Modified           66 
 unix-communication-device.bsv Locally Modified           66 

Directory modules/multifpga/scratchdual
 connected_application/    Locally Added               0 

Directory modules/multifpga/scratchdual/connected_application
 connected-application-test.cpp Locally Added               0 
 connected-application-test.h Locally Added               0 
 connected-application-test.awb Locally Added               0 
 connected-application-test.bsv Locally Added               0 

Directory modules/multifpga/scratchdual
 test-c.bsv                Locally Modified           66 


Several changes

1) Improved multi-lane architecture, which removes several cycles of latency. 

2) Statistics collection for shared portions of multi-fpga routers

3) More realistic unix simulation, which, incidentally, greatly improves simulation speed. 

----------
kfleming    Date: Thu Nov  3 21:59:46 EDT 2011  CSN: CSN-multifpga-68
                  Fri Nov  4 01:59:46 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_acp.apm Locally Modified           67 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           67 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           67 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_32_multifpga.apm Locally Modified           67 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           67 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-switch.awb    Locally Modified           67 
 flowcontrol-egress.bsv    Locally Modified           67 
 flowcontrol-ingress.bsv   Locally Modified           67 
 flowcontrol-switch-regs.awb Locally Modified           67 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           67 
 danglingConnection.py     Locally Modified           67 

Directory modules/multifpga/longChain
 test-d.bsv                Locally Modified           67 

Directory modules/multifpga/synthTest
 test-c-chains.bsv         Locally Modified           67 
 test-d-chains.bsv         Locally Modified           67 


Two changes in this check in:

1) Fixed bug in flow control algorithm where packets lengths were
limited to 8.  These calculations are now done off a parameter. 

2) More intelligent marshalling scheme wherein we bit-pack as many
data bits in the header as possible.  This is useful in reducing
latencies/improving throughput in some multilane scenarios. 



----------
kfleming    Date: Wed Nov  9 18:19:16 EST 2011  CSN: CSN-multifpga-70
                  Wed Nov  9 23:19:16 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_chains_xupv5.apm Locally Modified           69 
 test_multifpga_chains_xupv5_sma.apm Locally Added               0 
 test_multifpga_chains_xupv5_sata.apm Locally Added               0 

Directory config/pm/multifpga/fpga_submodels
 xupv50.apm                Locally Modified           69 
 xupv51.apm                Locally Modified           69 
 xupv50_sata.apm           Locally Added               0 
 xupv51_sata.apm           Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0-sata.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga1-sata.apm Locally Added               0 
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           69 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           69 

Directory config/pm/multifpga/inter_fpga_test/xupv5
 inter_test_0_xupv5.apm    Locally Modified           69 
 inter_test_1_xupv5.apm    Locally Modified           69 
 inter_test_0_xupv5_sma_3.125gbps.apm Locally Added               0 
 inter_test_1_xupv5_sma_3.125gbps.apm Locally Added               0 
 inter_test_0_xupv5_sata_3gbps.apm Locally Added               0 
 inter_test_1_xupv5_sata_3gbps.apm Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test
 submodels/                Locally Added               0 

Directory config/pm/multifpga/inter_fpga_test/submodels
 fpgaenv-hybrid-xup-v5-pcie-sma.apm Locally Added               0 
 fpgaenv-hybrid-xup-v5-pcie-sata.apm Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multiFPGAGenerateBitfile.py Locally Modified           69 

Directory modules/leap/libraries/platform-services
 platform-services-inter-fpga.awb Locally Modified           69 

Directory modules/leap/libraries/platform-services/inter-fpga-service/xupv5
 xupv5-interfpga-service.bsv Locally Modified           69 

Directory modules/leap-platforms/fpga-environments/xupv5
 xupv5-dual.env            Locally Modified           69 
 xupv5-airblue-dual.env    Locally Added               0 
 xupv5_fpga_env.awb        Locally Modified           69 
 xupv5_airblue_fpga_env.awb Locally Added               0 
 xupv5-dual-sata.env       Locally Added               0 
 xupv5_fpga_env_sata.awb   Locally Added               0 

Directory modules/multifpga/synthTest/connected_application
 connected-application-test.cpp Locally Modified           69 


Added support for multi-fpga Airblue compilation.  The biggest
structural change here is that we now construct a coherent global view
of RRR and DICT files through the compilation process.  Previously,
support for this was limited. 


----------
kfleming    Date: Thu Nov 10 12:17:16 EST 2011  CSN: CSN-multifpga-71
                  Thu Nov 10 17:17:16 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_acp.apm Locally Modified           70 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           70 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           70 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           70 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-communication
 unix-communication-device.bsv Locally Modified           70 


Added support for debug chains, and also several different styles of
multilane router, also primarily for debug purposes.

----------
kfleming    Date: Mon Nov 14 16:52:32 EST 2011  CSN: CSN-multifpga-72
                  Mon Nov 14 21:52:32 UTC 2011


Directory config/pm/leap/demos/traffic_light
 test_multifpga_perf_xupv5.apm Locally Modified           71 
 test_multifpga_rrr_exe.apm Locally Modified           71 
 test_multifpga_chains_exe.apm Locally Modified           71 
 test_multifpga_loop.apm   Locally Modified           71 
 test_multifpga_scratch_acp.apm Locally Modified           71 
 test_multifpga_chains_xupv5_sma.apm Locally Modified           71 
 test_multifpga_chains_xupv5.apm Locally Modified           71 
 traffic_light_acp_synth_multifpga.apm Locally Modified           71 
 test_multifpga_perf_acp.apm Locally Modified           71 
 test_multifpga_alternative_exe.apm Locally Modified           71 
 test_multifpga_perf_acp_single.apm Locally Modified           71 
 test_multifpga.apm        Locally Modified           71 
 test_multifpga_exe.apm    Locally Modified           71 
 test_multifpga_chains_xupv5_sata.apm Locally Modified           71 
 test_multifpga_scratch.apm Locally Modified           71 
 test_multifpga_chains_acp.apm Locally Modified           71 
 test_multifpga_rrr_acp.apm Locally Modified           71 

Directory config/pm/leap/submodels/fpgaenv
 multifpgaenv-hybrid-exe-fpga0.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga1.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga0-dist-cache.apm Locally Modified           71 
 multifpgaenv-hybrid-exe-fpga1-dist-cache.apm Locally Modified           71 

Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_dual_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_64_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_big_cache.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_dual_multifpga_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_64_multifpga_dual_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           71 
 alpha_inorder_dm_wt_mesh_acp_16_multifpga_dual_sram_4_lanes.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_xupv5.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_32_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_dist_cache_exe.apm Locally Modified           71 
 alpha_inorder_multifpga_exe.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_16_acp_sram.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_64_multifpga.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_2.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_acp_16_multifpga_sram_3.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_16_acp_dual_sram.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp.apm Locally Modified           71 
 alpha_inorder_multifpga_time_func_acp_sram_2.apm Locally Modified           71 
 alpha_inorder_dm_wt_ring_exe_16_multifpga.apm Locally Modified           71 
 alpha_inorder_multifpga_acp.apm Locally Modified           71 

Directory config/pm/multifpga/inter_fpga_test/simulation
 inter_test_0_simulation.apm Locally Modified           71 
 inter_test_1_simulation.apm Locally Modified           71 

Directory modules/leap/build-support/build-pipelines/stages
 multifpga_generate_logfile/ Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 multitest.py              Locally Added               0 
 tool.py                   Locally Added               0 
 connection.py             Locally Added               0 
 multi_fpga_parse.awb      Locally Added               0 
 multilex.py               Locally Added               0 
 fpgaenvironment.awb       Locally Added               0 
 platform.py               Locally Added               0 
 environment.py            Locally Added               0 
 multifpga_parser.py       Locally Added               0 
 multiparse.py             Locally Added               0 
 README                    Locally Added               0 

Directory modules/leap/build-support/build-pipelines/stages
 multifpga-generate-bitfile/ Locally Removed            71 

Directory modules/leap/build-support/build-pipelines/stages/multifpga-generate-bitfile
 multifpga-generate-bitfile.awb Locally Removed            71 
 multiFPGAGenerateBitfile.py Locally Removed            71 


Moved log generator phase of the multifpga compiler into the multifpga
package. Patched codes.

----------
kfleming    Date: Tue Nov 15 13:29:36 EST 2011  CSN: CSN-multifpga-73
                  Tue Nov 15 18:29:36 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_acp_sram.apm Locally Modified           72 
 alpha_inorder_multifpga_time_func_acp_sram_2.apm Locally Modified           72 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           72 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           72 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 via.py                    Locally Modified           72 
 multiFPGAConnect.py       Locally Modified           72 


Removed fifos from egress-switch. These fifos were a holdover from the
original RRR implementation.  Now we just use the FIFOs in the
SoftConnection packetizer logic.  Removing this latency improves the
IPS of HAsim models by about 5%. 

There might be some impact on frequency quality, but I haven't seen it yet. 


----------
kfleming    Date: Fri Nov 18 15:49:26 EST 2011  CSN: CSN-multifpga-74
                  Fri Nov 18 20:49:26 UTC 2011


Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           73 
 flowcontrol-ingress.bsv   Locally Modified           73 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           73 


Removed the channelization layer from the egress side. This reduces
hardware usage and removes a cycle of latency from the egress
pipeline.  Next up is removing this layer from the ingress side. 

----------

----------
kfleming    Date: Sat Nov 19 20:30:33 EST 2011  CSN: CSN-multifpga-75
                  Sun Nov 20 01:30:33 UTC 2011


Directory admin
 mytags                    Locally Modified           74 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-egress.bsv    Locally Modified           74 
 flowcontrol-ingress.bsv   Locally Modified           74 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           74 

Directory .
 changes                   Locally Modified           74 


Cut the final of 3 cycles from the multifpga routers. The
channelization layer is completely gone, and flow control is treated
as a special case of a normal channel. 

This set of changes appears to have decreased area substantially and
decreased runtimes by 11%.


----------
kfleming    Date: Mon Nov 21 11:16:36 EST 2011  CSN: CSN-multifpga-76
                  Mon Nov 21 16:16:36 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           75 


Refactored multifpga-connect in preparation for new channel allocation
algorithms.

----------
kfleming    Date: Tue Nov 22 15:49:42 EST 2011  CSN: CSN-multifpga-77
                  Tue Nov 22 20:49:42 UTC 2011


Directory config/pm/multifpga/fpga_submodels
 multifpgaenv-hybrid-xupv5-fpga0.apm Locally Modified           76 
 multifpgaenv-hybrid-xupv5-fpga1.apm Locally Modified           76 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service
 multifpga-router-service-local.bsv Locally Modified           76 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified           76 


1) Updated some stale xupv5 apms.
2) Removed channel ID from headers in flow control code.  Header information should not be used any longer.

----------
mcadler     Date: Mon Nov 28 07:22:58 EST 2011  CSN: CSN-multifpga-78
                  Mon Nov 28 12:22:58 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           77 

Directory modules/leap/build-support/build-pipelines/stages/multifpga_generate_logfile
 tool.py                   Locally Modified           77 

Use consistent options for building logfile step since the inter-FPGA connections
may vary with compilation options.

----------
kfleming    Date: Mon Nov 28 11:45:02 EST 2011  CSN: CSN-multifpga-79
                  Mon Nov 28 16:45:02 UTC 2011


Directory config/pm/hasim-alpha/multifpga
 alpha_inorder_multifpga_time_func_exe.apm Locally Modified           78 

Directory modules/leap/virtual-platform/virtual-devices/devices/multifpga_router_service/flowcontrol
 flowcontrol-ingress.bsv   Locally Modified           78 

Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           78 
 danglingConnection.py     Locally Modified           78 


Fixed the *broken* code refactoring.  Connections were being mis-linked.  

----------
mcadler     Date: Mon Nov 28 14:18:09 EST 2011  CSN: CSN-multifpga-80
                  Mon Nov 28 19:18:09 UTC 2011


Directory modules/leap/build-support/build-pipelines/stages/multi_fpga_connect
 multiFPGAConnect.py       Locally Modified           79 

Fix specification of explicit dependence of generated router on the Python
source file.  I don't understand how this worked as checked in.
